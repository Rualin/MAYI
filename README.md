# MAYI
Repository for MPPSD project
# MAYI
Repository for MPPSD project


# Fetch Dishes by Name

Этот проект позволяет извлекать информацию о блюдах из базы данных PostgreSQL по их названиям. Он предоставляет возможность получить не только основные данные о каждом блюде, но и список ингредиентов, необходимых для его приготовления.

## Описание функции

Функция fetch_dishes_by_name(dish_names) выполняет следующие действия:

1. Устанавливает соединение с базой данных PostgreSQL.
2. Выполняет SQL-запрос для получения информации о блюдах, названия которых указаны в списке dish_names.
3. Извлекает следующие данные для каждого блюда:
   - ID блюда
   - Название блюда
   - Рецепт
   - ID первой категории
   - ID второй категории
   - Время приготовления
   - Список ингредиентов (агрегируется в массив)
4. Выводит полученные данные в читаемом формате.
5. Обрабатывает возможные ошибки при работе с базой данных и закрывает соединение.

# Insert_in_base

# Описание
insert_in_base() предназначена для работы с базой данных рецептов. Она позволяет:

    Проверять наличие рецепта по названию

    Добавлять новые рецепты с полной информацией (категории, время приготовления, ингредиенты)

    Добавлять новые ингредиенты и единицы измерения при необходимости

Функциональность
Поиск рецепта

    Запрашивает у пользователя название рецепта

    Ищет совпадение в базе данных (без учета регистра)

Добавление нового рецепта

Если рецепт не найден:

    Запрашивает:

        Полный текст рецепта

        Категорию блюда (из предопределенного списка)

        Время приготовления (из предопределенных вариантов)

    Автоматически генерирует новый ID для рецепта

    Сохраняет все данные в таблицу dishes

Работа с ингредиентами

Для каждого ингредиента:

    Запрашивает:

        Название ингредиента

        Количество

        Единицу измерения (из предопределенного списка)

    Если ингредиент или единица измерения отсутствуют в базе - добавляет их

    Связывает ингредиенты с рецептом через таблицу dish_ingredients


Функция проверяет корректность вводимых данных:

    Категории блюд должны быть из предопределенных списков

    Время приготовления должно соответствовать заданным вариантам

    Единицы измерения должны быть из допустимого списка

    
# list_of_base()

# Описание

Функция list_of_base() предназначена для извлечения списка ингредиентов из базы данных PostgreSQL и сохранения их в текстовый файл. Она подключается к базе данных, выполняет SQL-запрос для получения названий всех ингредиентов и записывает результаты в файл ingredients_list.txt.

# fetch_dishes(ingredients)

# Описание

Функция fetch_dishes(ingredients) предназначена для извлечения информации о блюдах из базы данных PostgreSQL на основе указанных ингредиентов. Она выполняет SQL-запрос, чтобы получить уникальные блюда, содержащие один или несколько из заданных ингредиентов, и выводит информацию о них в консоль.
